<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
        rel="stylesheet">
    <title>Chatbot Test</title>
    <style>
        body {
            font-family: "Inter", serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
            background-color: #333;
            color: #fff;
        }

        h1 {
            font-size: 2em;
        }

        p {
            font-size: 1.2em;
            max-width: 80%;
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 1.5em;
            }

            p {
                font-size: 1em;
            }
        }
    </style>
</head>

<body>
    <h1>Chatbot Test</h1>
    <p>Welcome to the tester page for the chatbot.</p>
</body>
<script>
    // Create an iframe for the chatbot
    const chatbotIframe = document.createElement('iframe');
    chatbotIframe.src = 'https://tech-mate-chatbot.vercel.app';
    chatbotIframe.style.cssText = `
        position: absolute;
        bottom: 10px;
        right: 10px;
        border-radius: 16px;
        z-index: 100000;
        border: none; /* Remove any defaults borders */
        transition: width 0.05s ease-in, height 0.05s ease-in;
    `;
    document.body.appendChild(chatbotIframe);

    // Listen for messages from the iframe
    window.addEventListener('message', (event) => {
        if (event.origin !== 'https://tech-mate-chatbot.vercel.app' || event.data.type !== "chatbot-dimensions") return;

        const { width, height, isChatClosed } = event.data;
        if (window.innerWidth < 574 && !isChatClosed) {
            chatbotIframe.style.cssText += `
                width: 100%;
                height: 100%;
                bottom: 0;
                right: 0;
                border-radius: 0;
            `;
        } else if (width && height) {
            chatbotIframe.style.width = width;
            chatbotIframe.style.height = height;
        }
    });
</script>

</html>